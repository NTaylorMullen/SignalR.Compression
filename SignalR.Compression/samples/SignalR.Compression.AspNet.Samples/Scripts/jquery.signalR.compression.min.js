(function(n){"use strict";var u=n.signalR,f=n.hubConnection,i={onMethodResponse:"OnMethodResponse",onInvokingServerMethod:"OnInvokingServerMethod",onServerInvokingClient:"OnServerInvokingClient"},r={_:{utilities:null},settings:null,compressor:null,decompressor:null,events:i};n.extend(f.fn,{compression:{_:{decompressResult:[],contracts:{}},methodResponse:function(t){var r=this;return n(r).bind(i.onMethodResponse,function(n,i){t.call(r,i)}),r},invokingServerMethod:function(t){var r=this;return n(r).bind(i.onInvokingServerMethod,function(n,i,u){t.call(r,i,u)}),r},serverInvokingClient:function(t){var r=this;return n(r).bind(i.onServerInvokingClient,function(n,i,u){t.call(r,i,u)}),r}}}),u.compression=r})(window.jQuery,window),function(n){"use strict";var u=n.signalR,f=u.compression,i,r={defaultTypeId:0,enumerableTypeId:1,numericTypeId:2};i={getContractFromResponse:function(n,t,r){var u=r[0][n][t];return[i.getContract(u[0],r),u[1]]},buildResult:function(n,t,i){return{decompress:i,hubName:n,methodName:t}},getContract:function(n,t){return t[2][n]},isPayload:function(n,t){return!!i.getContract(n,t)},isDefault:function(n){return r.defaultTypeId===n},isEnumerable:function(n){return r.enumerableTypeId===n},isNumeric:function(n){return r.numericTypeId===n}},f._.utilities=i}(window.jQuery,window),function(n){"use strict";var f=n.signalR,r=f.compression,i=r._.utilities,u={compress:function(t,r,u){var f,e,o=this;return t&&(f=[],n.each(r,function(n,r){var s=r[0],c=r[1][0],l=r[1][1],a=i.isEnumerable(l),v=!i.isNumeric(l),h;if(t[s]&&i.isPayload(c,u))if(a){for(e=[],h=0;h<t[s].length;h++)e[h]=o.compress(t[s][h],i.getContract(c,u),u);f.push(e)}else f.push(o.compress(t[s],i.getContract(c,u),u));else(t[s]===null||typeof t[s]=="undefined")&&v?t[s]=0:t[s]==="undefined"&&(t[s]=null),f.push(t[s])})),f||null}};r.compressor=u}(window.jQuery,window),function(n){"use strict";var f=n.signalR,r=f.compression,i=r._.utilities,u={decompress:function(t,r,u){var f,e=this;return t&&(f={},n.each(r,function(n,r){var h=r[0],c=r[1][0],l=r[1][1],a=i.isEnumerable(l),v=!i.isNumeric(l),s,o;if(t[n]&&i.isPayload(c,u))if(a){for(s=[],o=0;o<t[n].length;o++)s[o]=e.decompress(t[n][o],i.getContract(c,u),u);f[h]=s}else f[h]=e.decompress(t[n],i.getContract(c,u),u);else t[n]===0&&v&&(t[n]=null),f[h]=t[n]})),f}};r.decompressor=u}(window.jQuery,window),function(n){"use strict";var i=n.signalR,r=i.prototype.start,u=i.events;i.prototype.start=function(t){var l="json",s=n.Deferred(),e=this,h=!1,o=e.url,c=arguments;return e.compression?(n.type(t)==="object"&&(t.jsonp===!0?h=!0:i.fn.isCrossDomain(e.url)&&(h=!n.support.cors)),h&&(l="jsonp"),o.toLowerCase().indexOf("/signalr",o.length-8)!==-1&&(o=o.substr(0,o.length-8)),o+="/compression/contracts",n.ajax({url:o,global:!1,cache:!1,type:"GET",data:{},dataType:l,error:function(t){n(e).triggerHandler(u.onError,[t.responseText]),s.reject("SignalR: Error during contract retrieval request: "+t.responseText)},success:function(n){e.compression._.contracts=n.Contracts,r.apply(e,c).done(function(){s.resolve(e)}).fail(function(){s.reject.apply(this,arguments)})}}),s.promise()):r.apply(e,c)}}(window.jQuery,window),function(n){"use strict";var o=n.signalR,r=o.compression,f=r.compressor,i=r._.utilities,s=r.events,u=n.hubConnection,e=u.prototype.createHubProxy;u.prototype.createHubProxy=function(t){var o=e.apply(this,arguments),h=o.invoke,r=this,u=r.compression._;return o.invoke=function(e){var l=u.contracts,c=n.extend(!0,[],arguments),w,y,k,p,d,g,b,v,o,a;if(l&&(w=l[0][t],y=l[1][t],w&&w[e]?u.decompressResult.push(i.buildResult(t,e,!0)):u.decompressResult.push(i.buildResult(t,e,!1)),y&&y[e]))for(k=y[e],o=1;o<c.length;o++)if(v=c[o],p=k[o-1][0],g=k[o-1][1],i.isPayload(p,l))if(d=i.getContract(p,l),g){for(b=[],a=0;a<v.length;a++)b.push(f.compress(v[a],d,l));c[o]=b}else c[o]=f.compress(v,d,l);return r.log("SignalR Compression: Invoking method '"+e+"' with args: "+c[1]+"."),n(r.compression).triggerHandler(s.onInvokingServerMethod,[e,c[1]]),h.apply(this,c)},o}}(window.jQuery,window),function(n){"use strict";var u=n.signalR,f=u.compression,i=f.decompressor,r=f._.utilities,e=f.events,o=u.prototype.received;u.prototype.received=function(t){var u=function(u){var v,h=this,a=h.compression._,f=a.contracts,c,s,l,o;f&&(typeof u.I!="undefined"&&u.R?(h.log("SignalR Compression: Server has returned data: "+u.R+"."),n(h.compression).triggerHandler(e.onMethodResponse,[u.R]),c=a.decompressResult.shift(),v=u.I,c.decompress&&(s=r.getContractFromResponse(c.hubName,c.methodName,f),l=r.isEnumerable(s[1]),s=s[0],l===!1?o=i.decompress(u.R,s,f):(o=[],n.each(u.R,function(n,t){o.push(i.decompress(t,s,f))})),u.R=o)):typeof u.A!="undefined"&&typeof u.C!="undefined"&&(h.log("SignalR Compression: Server invoking method '"+u.M+"' with arguments: "+u.A[0]+"."),n(h.compression).triggerHandler(e.onServerInvokingClient,[u.M,u.A[0]]),n.each(u.A,function(t,e){var s=u.C[t],h,c=!1;s.length>2&&s.substring(s.length-2)==="[]"&&(s=s.substring(0,s.length-2),c=!0),s=parseInt(s,10),r.isPayload(s,f)&&(h=r.getContract(s,f),c===!1?o=i.decompress(e,h,f):(o=[],n.each(e,function(n,t){o.push(i.decompress(t,h,f))})),u.A[t]=o)}))),t.call(this,u)};o.call(this,u)}}(window.jQuery,window)